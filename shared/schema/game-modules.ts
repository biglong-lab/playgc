// éŠæˆ²æ¨¡çµ„åº«å®šç¾© - æä¾›å®Œæ•´éŠæˆ²ç¯„æœ¬ä¾›ä½¿ç”¨è€…å¥—ç”¨
// æ“´å±• GameTemplate ä»‹é¢ï¼Œå¢åŠ æ›´è±å¯Œçš„æè¿°èˆ‡åˆ†é¡

import type { TemplatePageConfig } from "./game-templates";

/** æ¨¡çµ„åˆ†é¡ */
export type ModuleCategory =
  | "outdoor"    // æˆ¶å¤–æ¢ç´¢
  | "indoor"     // å®¤å…§è§£è¬
  | "education"  // æ•™è‚²å­¸ç¿’
  | "team"       // åœ˜éšŠç«¶æŠ€
  | "digital";   // æ•¸ä½äº’å‹•

/** æ¨¡çµ„åˆ†é¡ä¸­æ–‡å°ç…§ */
export const MODULE_CATEGORY_LABELS: Record<ModuleCategory, string> = {
  outdoor: "æˆ¶å¤–æ¢ç´¢",
  indoor: "å®¤å…§è§£è¬",
  education: "æ•™è‚²å­¸ç¿’",
  team: "åœ˜éšŠç«¶æŠ€",
  digital: "æ•¸ä½äº’å‹•",
};

/** éŠæˆ²æ¨¡çµ„ä»‹é¢ï¼ˆæ“´å±• GameTemplateï¼‰ */
export interface GameModule {
  id: string;
  name: string;
  description: string;
  icon: string;
  estimatedTime: number | null;
  maxPlayers: number;
  difficulty: "easy" | "medium" | "hard";
  tags: string[];
  pages: TemplatePageConfig[];
  // æ“´å±•æ¬„ä½
  category: ModuleCategory;
  scenario: string;          // é©ç”¨å ´æ™¯æè¿°
  highlights: string[];      // äº®é»ç‰¹è‰²ï¼ˆ3-5 é …ï¼‰
  flowDescription: string;   // é é¢æµç¨‹ç°¡è¿°
  coverEmoji: string;        // å°é¢ emojiï¼ˆç”¨æ–¼å¡ç‰‡å±•ç¤ºï¼‰
}

/** é›£åº¦ä¸­æ–‡å°ç…§ */
export const DIFFICULTY_LABELS: Record<string, string> = {
  easy: "ç°¡å–®",
  medium: "ä¸­ç­‰",
  hard: "å›°é›£",
};

// ============================================================================
// æ¨¡çµ„ 1ï¼šå¤é®å°‹å¯¶å¥‡é‡è¨˜ï¼ˆæˆ¶å¤–æ¢ç´¢ï¼‰
// ============================================================================
const outdoorTreasureHunt: GameModule = {
  id: "outdoor_treasure_hunt",
  name: "å¤é®å°‹å¯¶å¥‡é‡è¨˜",
  description: "çµåˆ GPS å®šä½èˆ‡å¯¦åœ°æ¢ç´¢çš„æˆ¶å¤–å°‹å¯¶éŠæˆ²ï¼Œå¼•å°ç©å®¶èµ°è¨ªå¤šå€‹åœ°æ¨™å®Œæˆæ‹ç…§ã€æƒç¢¼ã€ç­”é¡Œä»»å‹™",
  icon: "map",
  estimatedTime: 45,
  maxPlayers: 8,
  difficulty: "medium",
  tags: ["æˆ¶å¤–", "æ¢ç´¢", "GPS", "æ‹ç…§", "QR"],
  category: "outdoor",
  scenario: "é©åˆè§€å…‰æ™¯é»ã€å¤è¹Ÿå°è¦½ã€æ ¡å¤–æ•™å­¸ã€åœ˜éšŠå»ºè¨­æ´»å‹•",
  highlights: [
    "GPS å°èˆªå¼•å°ç©å®¶å‰å¾€å„ç«™é»",
    "æ‹ç…§ä»»å‹™è¨˜éŒ„æ¢ç´¢éç¨‹",
    "QR Code æƒç¢¼ç¢ºèªæŠµé”",
    "é¸æ“‡é¡Œé©—è­‰å­¸ç¿’æˆæœ",
    "å®Œæ•´æ•…äº‹ç·šä¸²è¯å„é—œå¡",
  ],
  flowDescription: "é–‹å ´æ•…äº‹ â†’ GPS å°èˆªåˆ°ç«™é» â†’ æ‹ç…§è¨˜éŒ„ â†’ QR ç¢ºèª â†’ çŸ¥è­˜å•ç­” â†’ ç¬¬äºŒç«™æ¢ç´¢ â†’ æœ€çµ‚æŒ‘æˆ° â†’ å®Œæˆçå‹µ",
  coverEmoji: "ğŸ—ºï¸",
  pages: [
    {
      pageType: "text_card",
      title: "æ¢éšªå¬é›†ä»¤",
      config: {
        title: "æ­¡è¿ä¾†åˆ°å¤é®å°‹å¯¶",
        text: "å‚³èªªå¤é®è£¡è—è‘—ä¸€ä»½ç¥ç§˜çš„å¯¶è—åœ°åœ–ï¼Œåªæœ‰å®Œæˆæ‰€æœ‰ç«™é»æŒ‘æˆ°çš„æ¢éšªå®¶æ‰èƒ½æ­é–‹è¬åº•ã€‚æº–å‚™å¥½ä½ çš„ç›¸æ©Ÿå’Œå‹‡æ°£ï¼Œå‡ºç™¼å§ï¼",
      },
    },
    {
      pageType: "gps_mission",
      title: "å‰å¾€ç¬¬ä¸€ç«™ï¼šå¤äº•å»£å ´",
      config: {
        instruction: "è·Ÿè‘—åœ°åœ–æŒ‡å¼•ï¼Œå‰å¾€å¤äº•å»£å ´",
        targetLocation: { lat: 25.033, lng: 121.565 },
        radius: 30,
      },
    },
    {
      pageType: "photo_mission",
      title: "æ‹æ”å¤äº•",
      config: {
        prompt: "æ‰¾åˆ°å¤äº•å¾Œï¼Œæ‹æ”ä¸€å¼µåŒ…å«å¤äº•å…¨è²Œçš„ç…§ç‰‡",
      },
    },
    {
      pageType: "qr_scan",
      title: "æƒç¢¼ç¢ºèªæŠµé”",
      config: {
        instruction: "æƒæå¤äº•æ—é‚Šçš„ QR Code ç¢ºèªä½ å·²æŠµé”",
        expectedCode: "STATION-001",
      },
    },
    {
      pageType: "choice_verify",
      title: "å¤äº•çŸ¥è­˜å•ç­”",
      config: {
        question: "é—œæ–¼é€™å£å¤äº•ï¼Œä»¥ä¸‹å“ªå€‹èªªæ³•æ˜¯æ­£ç¢ºçš„ï¼Ÿ",
        options: ["å»ºæ–¼æ¸…æœå¹´é–“", "å»ºæ–¼æ—¥æ²»æ™‚æœŸ", "å»ºæ–¼æ°‘åœ‹åˆå¹´"],
        correctIndex: 0,
      },
    },
    {
      pageType: "gps_mission",
      title: "å‰å¾€ç¬¬äºŒç«™ï¼šè€è¡—å…¥å£",
      config: {
        instruction: "æ²¿è‘—å¤é“ï¼Œå‰å¾€è€è¡—å…¥å£çš„ç‰ŒåŠ",
        targetLocation: { lat: 25.034, lng: 121.566 },
        radius: 30,
      },
    },
    {
      pageType: "photo_mission",
      title: "è€è¡—ç´€éŒ„",
      config: {
        prompt: "åœ¨è€è¡—ç‰ŒåŠå‰æ‹æ”ä¸€å¼µåˆ°æ­¤ä¸€éŠçš„ç…§ç‰‡",
      },
    },
    {
      pageType: "text_card",
      title: "å°‹å¯¶å®Œæˆ",
      config: {
        title: "æ­å–œå®Œæˆå¤é®å°‹å¯¶ï¼",
        text: "ä½ æˆåŠŸèµ°è¨ªäº†æ‰€æœ‰ç«™é»ï¼Œæ­é–‹äº†å¤é®çš„ç§˜å¯†ã€‚é€™æ®µæ—…ç¨‹çš„å›æ†¶å°‡æ°¸é ä¼´éš¨è‘—ä½ ï¼",
      },
    },
  ],
};

// ============================================================================
// æ¨¡çµ„ 2ï¼šå¯†å®¤å±æ©Ÿå€’æ•¸ï¼ˆå®¤å…§è§£è¬ï¼‰
// ============================================================================
const escapeRoomCountdown: GameModule = {
  id: "escape_room_countdown",
  name: "å¯†å®¤å±æ©Ÿå€’æ•¸",
  description: "çµåˆå¯†ç¢¼é–ã€æ‹†å½ˆè¨ˆæ™‚ã€ç¢ç‰‡æ”¶é›†çš„é«˜ç·Šå¼µåº¦å®¤å…§è§£è¬éŠæˆ²",
  icon: "puzzle",
  estimatedTime: 25,
  maxPlayers: 6,
  difficulty: "hard",
  tags: ["å®¤å…§", "è§£è¬", "å¯†ç¢¼", "æ‹†å½ˆ", "åœ˜éšŠ"],
  category: "indoor",
  scenario: "é©åˆå¯†å®¤é€ƒè„«å ´é¤¨ã€ä¸»é¡Œæ´¾å°ã€ä¼æ¥­åœ˜å»ºã€ä¼‘é–’å¨›æ¨‚å ´æ‰€",
  highlights: [
    "å°è©±åŠ‡æƒ…ç‡Ÿé€ æ²‰æµ¸å¼æ°›åœ",
    "å¤šç¨®è§£è¬é¡å‹äº¤æ›¿æŒ‘æˆ°",
    "æ‹†å½ˆè¨ˆæ™‚å¢åŠ ç·Šå¼µæ„Ÿ",
    "ç¢ç‰‡æ”¶é›†ç¢ºä¿å®Œæ•´é€šé—œ",
    "å¯†ç¢¼é–é—œå¡è€ƒé©—è§€å¯ŸåŠ›",
  ],
  flowDescription: "åŠ‡æƒ…é–‹å ´ â†’ æ–‡å­—è¬é¡Œ â†’ å¯†ç¢¼é– â†’ æ‹†å½ˆå€’æ•¸ â†’ ç¢ç‰‡æ”¶é›† â†’ é¸æ“‡é¡Œ â†’ æœ€çµ‚è§£å¯† â†’ é€ƒè„«æˆåŠŸ",
  coverEmoji: "ğŸ”",
  pages: [
    {
      pageType: "dialogue",
      title: "ç¥ç§˜ä¾†é›»",
      config: {
        character: { name: "ç¥ç§˜äºº" },
        messages: [
          { text: "ä½ å¥½ï¼Œè¢«é¸ä¸­çš„äºº..." },
          { text: "ä½ è¢«å›°åœ¨é€™å€‹æˆ¿é–“è£¡ï¼Œç‚¸å½ˆå°‡åœ¨ 25 åˆ†é˜å¾Œå¼•çˆ†ã€‚" },
          { text: "å”¯ä¸€çš„å‡ºè·¯å°±æ˜¯è§£é–‹æ‰€æœ‰è¬é¡Œã€‚ç¥ä½ å¥½é‹ã€‚" },
        ],
      },
    },
    {
      pageType: "text_verify",
      title: "ç‰†ä¸Šçš„è¬èª",
      config: {
        question: "ç‰†ä¸Šåˆ»è‘—ä¸€æ®µæ–‡å­—ï¼šã€Œæ—¥å‡ºæ±æ–¹ï¼Œæœˆè½è¥¿å±±ã€‚æ±è¥¿å—åŒ—ï¼Œç­”æ¡ˆåœ¨ä¸­ã€‚ã€è«‹è¼¸å…¥ç­”æ¡ˆ",
        correctAnswer: "ä¸­",
        hint: "ä»”ç´°é–±è®€æ¯å¥è©±çš„æœ€å¾Œä¸€å€‹å­—",
      },
    },
    {
      pageType: "lock",
      title: "ä¿éšªç®±å¯†ç¢¼",
      config: {
        instruction: "æ ¹æ“šæˆ¿é–“è£¡çš„ç·šç´¢ï¼Œè¼¸å…¥ 4 ä½æ•¸å¯†ç¢¼æ‰“é–‹ä¿éšªç®±",
        correctCode: "2580",
        codeLength: 4,
      },
    },
    {
      pageType: "time_bomb",
      title: "æ‹†é™¤ç‚¸å½ˆ",
      config: {
        instruction: "å‰ªæ–·æ­£ç¢ºçš„ç·šè·¯ä¾†æ‹†é™¤ç‚¸å½ˆï¼é¸éŒ¯æœƒåŠ é€Ÿå€’æ•¸",
        timeLimit: 60,
        correctSequence: ["red", "blue", "green"],
      },
    },
    {
      pageType: "conditional_verify",
      title: "æ”¶é›†é€ƒè„«ç¢ç‰‡",
      config: {
        instruction: "æ”¶é›†åˆ†æ•£åœ¨æˆ¿é–“å„è™•çš„ 3 å¡Šé‘°åŒ™ç¢ç‰‡",
        requiredFragments: 3,
        fragments: ["é‘°åŒ™ç¢ç‰‡A", "é‘°åŒ™ç¢ç‰‡B", "é‘°åŒ™ç¢ç‰‡C"],
      },
    },
    {
      pageType: "choice_verify",
      title: "æœ€çµ‚å•ç­”",
      config: {
        question: "æ ¹æ“šä½ æ”¶é›†åˆ°çš„æ‰€æœ‰ç·šç´¢ï¼Œç¥ç§˜äººçš„çœŸå¯¦èº«ä»½æ˜¯ï¼Ÿ",
        options: ["å‰ä»»å±‹ä¸»", "æœªä¾†çš„ä½ ", "AI ç®¡å®¶"],
        correctIndex: 2,
      },
    },
    {
      pageType: "lock",
      title: "æœ€çµ‚å¤§é–€å¯†ç¢¼",
      config: {
        instruction: "è¼¸å…¥æœ€çµ‚å¯†ç¢¼æ‰“é–‹é€ƒç”Ÿé–€",
        correctCode: "1234",
        codeLength: 4,
      },
    },
    {
      pageType: "text_card",
      title: "æˆåŠŸé€ƒè„«ï¼",
      config: {
        title: "æ­å–œæˆåŠŸé€ƒè„«ï¼",
        text: "ä½ åœ¨æ™‚é™å…§è§£é–‹äº†æ‰€æœ‰è¬é¡Œï¼ŒæˆåŠŸé€ƒå‡ºäº†å¯†å®¤ã€‚ä½ çš„æ™ºæ…§å’Œå‹‡æ°£ä»¤äººä½©æœï¼",
      },
    },
  ],
};

// ============================================================================
// æ¨¡çµ„ 3ï¼šæ ¡åœ’çŸ¥è­˜ç‹çˆ­éœ¸æˆ°ï¼ˆæ•™è‚²å­¸ç¿’ï¼‰
// ============================================================================
const campusQuizBattle: GameModule = {
  id: "campus_quiz_battle",
  name: "æ ¡åœ’çŸ¥è­˜ç‹çˆ­éœ¸æˆ°",
  description: "å¯“æ•™æ–¼æ¨‚çš„çŸ¥è­˜å•ç­”éŠæˆ²ï¼Œçµåˆé¸æ“‡é¡Œã€å¡«ç©ºé¡Œã€æŠ•ç¥¨äº’å‹•ï¼Œé©åˆæ•™å­¸è©•é‡",
  icon: "help-circle",
  estimatedTime: 20,
  maxPlayers: 40,
  difficulty: "easy",
  tags: ["æ•™è‚²", "å•ç­”", "æŠ•ç¥¨", "å­¸ç¿’", "äº’å‹•"],
  category: "education",
  scenario: "é©åˆå­¸æ ¡èª²å ‚ã€åŸ¹è¨“èª²ç¨‹ã€è®€æ›¸æœƒã€çŸ¥è­˜ç«¶è³½æ´»å‹•",
  highlights: [
    "é¸æ“‡é¡Œå¿«é€Ÿæ¸¬é©—çŸ¥è­˜é»",
    "å¡«ç©ºé¡ŒåŠ æ·±ç†è§£è¨˜æ†¶",
    "æŠ•ç¥¨äº’å‹•å¢é€²ç­ç´šåƒèˆ‡",
    "æŒ‰éˆ•åˆ†æ”¯æä¾›ä¸åŒå­¸ç¿’è·¯å¾‘",
    "å¤§äººæ•¸åŒæ™‚åƒèˆ‡ï¼ˆæœ€å¤š 40 äººï¼‰",
  ],
  flowDescription: "éŠæˆ²èªªæ˜ â†’ æš–èº«é¸æ“‡é¡Œ â†’ é€²éšé¸æ“‡é¡Œ â†’ å¡«ç©ºæŒ‘æˆ° â†’ è¶£å‘³æŠ•ç¥¨ â†’ åˆ†æ”¯é¸æ“‡ â†’ ç¸½çµå›é¡§",
  coverEmoji: "ğŸ“š",
  pages: [
    {
      pageType: "text_card",
      title: "çŸ¥è­˜ç‹é–‹å ´",
      config: {
        title: "æ­¡è¿ä¾†åˆ°çŸ¥è­˜ç‹çˆ­éœ¸æˆ°",
        text: "æº–å‚™å¥½æŒ‘æˆ°ä½ çš„çŸ¥è­˜æ¥µé™äº†å—ï¼Ÿå›ç­”å•é¡Œè¶Šå¤šè¶Šå¿«ï¼Œæ’åè¶Šé«˜ã€‚å…¨ç­ä¸€èµ·æ¯”æ‹¼ï¼Œçœ‹èª°æ˜¯çœŸæ­£çš„çŸ¥è­˜ç‹ï¼",
      },
    },
    {
      pageType: "choice_verify",
      title: "æš–èº«é¡Œï¼šå¸¸è­˜",
      config: {
        question: "ä»¥ä¸‹å“ªå€‹æ˜¯å°ç£æœ€é«˜çš„å±±ï¼Ÿ",
        options: ["ç‰å±±", "é›ªå±±", "å—æ¹–å¤§å±±", "ç§€å§‘å·’å±±"],
        correctIndex: 0,
      },
    },
    {
      pageType: "choice_verify",
      title: "é€²éšé¡Œï¼šæ­·å²",
      config: {
        question: "å°ç£åœ¨å“ªä¸€å¹´æ­£å¼å¯¦æ–½å…¨æ°‘å¥ä¿ï¼Ÿ",
        options: ["1990 å¹´", "1993 å¹´", "1995 å¹´", "1998 å¹´"],
        correctIndex: 2,
      },
    },
    {
      pageType: "text_verify",
      title: "å¡«ç©ºæŒ‘æˆ°",
      config: {
        question: "å°ç£çš„åœ‹èŠ±æ˜¯ä»€éº¼ï¼Ÿï¼ˆè«‹å¡«å…¥ä¸­æ–‡åç¨±ï¼‰",
        correctAnswer: "æ¢…èŠ±",
        hint: "å†¬å¤©ç››é–‹çš„èŠ±",
      },
    },
    {
      pageType: "vote",
      title: "è¶£å‘³æŠ•ç¥¨",
      config: {
        question: "ä½ è¦ºå¾—å“ªå€‹ç§‘ç›®æœ€æœ‰è¶£ï¼Ÿ",
        options: ["åœ‹æ–‡", "æ•¸å­¸", "è‡ªç„¶ç§‘å­¸", "ç¤¾æœƒ"],
      },
    },
    {
      pageType: "button",
      title: "å­¸ç¿’è·¯å¾‘é¸æ“‡",
      config: {
        prompt: "ä½ æƒ³è¦æŒ‘æˆ°å“ªå€‹é ˜åŸŸçš„é€²éšé¡Œç›®ï¼Ÿ",
        buttons: [
          { text: "ç§‘å­¸æ¢ç©¶", rewardPoints: 5 },
          { text: "æ­·å²äººæ–‡", rewardPoints: 5 },
          { text: "è—è¡“æ–‡åŒ–", rewardPoints: 5 },
        ],
      },
    },
    {
      pageType: "text_card",
      title: "çŸ¥è­˜ç‹çµç®—",
      config: {
        title: "æŒ‘æˆ°å®Œæˆï¼",
        text: "æ­å–œä½ å®Œæˆäº†çŸ¥è­˜ç‹çˆ­éœ¸æˆ°ï¼æª¢è¦–æ’è¡Œæ¦œï¼Œçœ‹çœ‹ä½ çš„æˆç¸¾å¦‚ä½•ã€‚æŒçºŒå­¸ç¿’ï¼Œä¸‹æ¬¡ä½ ä¸€å®šèƒ½æ›´ä¸Šä¸€å±¤æ¨“ï¼",
      },
    },
  ],
};

// ============================================================================
// æ¨¡çµ„ 4ï¼šé‡å¤–ç”Ÿå­˜å¤§æŒ‘æˆ°ï¼ˆåœ˜éšŠç«¶æŠ€ï¼‰
// ============================================================================
const wildSurvivalChallenge: GameModule = {
  id: "wild_survival_challenge",
  name: "é‡å¤–ç”Ÿå­˜å¤§æŒ‘æˆ°",
  description: "åœ˜éšŠåˆä½œçš„æˆ¶å¤–ç«¶æŠ€éŠæˆ²ï¼Œçµåˆå°„æ“Šã€é«”æ„ŸæŒ‘æˆ°ã€GPS å°èˆªå’Œæ‹ç…§ä»»å‹™",
  icon: "target",
  estimatedTime: 40,
  maxPlayers: 20,
  difficulty: "medium",
  tags: ["åœ˜éšŠ", "ç«¶æŠ€", "å°„æ“Š", "é«”æ„Ÿ", "æˆ¶å¤–"],
  category: "team",
  scenario: "é©åˆæ¼†å½ˆå ´ã€éœ²ç‡Ÿå€ã€æˆ¶å¤–é‹å‹•ä¸­å¿ƒã€ä¼æ¥­åœ˜å»ºæ´»å‹•",
  highlights: [
    "å°„æ“Šä»»å‹™è€ƒé©—ç²¾æº–åº¦",
    "é«”æ„ŸæŒ‘æˆ°æ¸¬è©¦åæ‡‰åŠ›",
    "GPS å°èˆªå¢åŠ æ¢ç´¢æ¨‚è¶£",
    "æ‹ç…§ä»»å‹™ç•™ä¸‹çè²´å›æ†¶",
    "åœ˜éšŠæ¨¡å¼é¼“å‹µåˆä½œæºé€š",
  ],
  flowDescription: "ä½œæˆ°ç°¡å ± â†’ å°„æ“Šè¨“ç·´ â†’ GPS å‰é€²åŸºåœ° â†’ é«”æ„ŸæŒ‘æˆ° â†’ æ‹ç…§è¨˜éŒ„ â†’ å°„æ“Šå°æˆ° â†’ ç”Ÿå­˜ä»»å‹™ â†’ GPS æ’¤é€€ â†’ å‹åˆ©å®£è¨€",
  coverEmoji: "ğŸ•ï¸",
  pages: [
    {
      pageType: "text_card",
      title: "ä½œæˆ°ç°¡å ±",
      config: {
        title: "é‡å¤–ç”Ÿå­˜å¤§æŒ‘æˆ°",
        text: "æ­¡è¿ä¾†åˆ°é‡å¤–ç”Ÿå­˜è¨“ç·´ç‡Ÿï¼ä½ çš„åœ˜éšŠå°‡é¢è‡¨å°„æ“Šã€é«”èƒ½ã€å°èˆªç­‰å¤šé‡æŒ‘æˆ°ã€‚åœ˜çµåˆä½œæ˜¯å‹åˆ©çš„é—œéµï¼",
      },
    },
    {
      pageType: "shooting_mission",
      title: "å°„æ“Šè¨“ç·´",
      config: {
        requiredHits: 5,
        timeLimit: 60,
        targetScore: 50,
      },
    },
    {
      pageType: "gps_mission",
      title: "å‰å¾€å‰é€²åŸºåœ°",
      config: {
        instruction: "è·Ÿè‘—æŒ‡å¼•å‰å¾€å‰é€²åŸºåœ°é›†åˆ",
        targetLocation: { lat: 25.035, lng: 121.567 },
        radius: 20,
      },
    },
    {
      pageType: "motion_challenge",
      title: "é«”æ„ŸæŒ‘æˆ°ï¼šå¿«é€Ÿåæ‡‰",
      config: {
        challengeType: "shake",
        instruction: "ç”¨åŠ›æ–æ™ƒæ‰‹æ©Ÿ 30 æ¬¡ï¼è¶Šå¿«è¶Šå¥½",
        targetCount: 30,
        timeLimit: 15,
      },
    },
    {
      pageType: "photo_mission",
      title: "åœ˜éšŠåˆç…§",
      config: {
        prompt: "å…¨éšŠåœ¨å‰é€²åŸºåœ°å‰æ‹ä¸€å¼µå¸¥æ°£çš„æˆ°é¬¥åˆç…§",
      },
    },
    {
      pageType: "shooting_mission",
      title: "æ­£å¼å°æˆ°",
      config: {
        requiredHits: 15,
        timeLimit: 180,
        targetScore: 150,
      },
    },
    {
      pageType: "choice_verify",
      title: "ç”Ÿå­˜çŸ¥è­˜æ¸¬é©—",
      config: {
        question: "åœ¨é‡å¤–è¿·è·¯æ™‚ï¼Œä»¥ä¸‹å“ªå€‹åšæ³•æœ€æ­£ç¢ºï¼Ÿ",
        options: ["éš¨æ„æ‰¾æ–¹å‘èµ°", "ç•™åœ¨åŸåœ°ç­‰å¾…æ•‘æ´", "å¤§è²å‘¼å–Šæ±‚æ•‘", "çˆ¬åˆ°æœ€é«˜è™•è§€å¯Ÿ"],
        correctIndex: 1,
      },
    },
    {
      pageType: "gps_mission",
      title: "å®‰å…¨æ’¤é€€",
      config: {
        instruction: "ä»»å‹™å®Œæˆï¼è·Ÿè‘—æŒ‡å¼•å›åˆ°å‡ºç™¼é»",
        targetLocation: { lat: 25.033, lng: 121.565 },
        radius: 30,
      },
    },
    {
      pageType: "text_card",
      title: "æŒ‘æˆ°å®Œæˆ",
      config: {
        title: "æ­å–œå®Œæˆé‡å¤–ç”Ÿå­˜å¤§æŒ‘æˆ°ï¼",
        text: "ä½ çš„åœ˜éšŠå±•ç¾äº†éäººçš„æˆ°é¬¥åŠ›å’Œåœ˜éšŠç²¾ç¥ã€‚ä»Šå¤©çš„ç¶“æ­·å°‡æˆç‚ºä½ å€‘æœ€æ£’çš„å›æ†¶ï¼",
      },
    },
  ],
};

// ============================================================================
// æ¨¡çµ„ 5ï¼šç·šä¸Šæ¨ç†åµæ¢ç¤¾ï¼ˆæ•¸ä½äº’å‹•ï¼‰
// ============================================================================
const onlineDetectiveClub: GameModule = {
  id: "online_detective_club",
  name: "ç·šä¸Šæ¨ç†åµæ¢ç¤¾",
  description: "çµåˆå½±ç‰‡ç·šç´¢ã€å°è©±æ¨ç†ã€ç¢ç‰‡æ”¶é›†çš„æ•¸ä½åµæ¢éŠæˆ²ï¼Œç„¡éœ€åˆ°å ´å³å¯éŠç©",
  icon: "search",
  estimatedTime: 30,
  maxPlayers: 10,
  difficulty: "hard",
  tags: ["æ¨ç†", "åµæ¢", "å½±ç‰‡", "äº’å‹•", "ç·šä¸Š"],
  category: "digital",
  scenario: "é©åˆç·šä¸Šåœ˜å»ºã€é ç«¯æ•™å­¸ã€ç¤¾åœ˜æ´»å‹•ã€é›¨å¤©å‚™æ¡ˆ",
  highlights: [
    "å½±ç‰‡å‘ˆç¾æ¡ˆä»¶ç¾å ´ç·šç´¢",
    "å°è©±åŠ‡æƒ…æ¨é€²åµæ¢æ•…äº‹",
    "ç¢ç‰‡æ”¶é›†ä¸²è¯é›¶æ•£è­‰æ“š",
    "åˆ†æ”¯é¸æ“‡å½±éŸ¿æ¨ç†æ–¹å‘",
    "ä¸å—åœ°é»é™åˆ¶çš„ç·šä¸ŠéŠæˆ²",
  ],
  flowDescription: "æ¡ˆä»¶å½±ç‰‡ â†’ NPC å°è©± â†’ ç¢ç‰‡æ”¶é›† â†’ å«Œç–‘äººå•ç­” â†’ åˆ†æ”¯æ¨ç† â†’ æ–‡å­—è§£å¯† â†’ é¸æ“‡çœŸå…‡ â†’ çµæ¡ˆå ±å‘Š",
  coverEmoji: "ğŸ”",
  pages: [
    {
      pageType: "video",
      title: "æ¡ˆä»¶ç¾å ´å½±ç‰‡",
      config: {
        title: "é›¢å¥‡å¤±è¹¤æ¡ˆ",
        videoUrl: "",
        description: "è§€çœ‹æ¡ˆä»¶ç¾å ´çš„ç›£è¦–å™¨ç•«é¢ï¼Œæ³¨æ„æ¯å€‹ç´°ç¯€",
      },
    },
    {
      pageType: "dialogue",
      title: "è­¦æ¢ç°¡å ±",
      config: {
        character: { name: "æè­¦æ¢" },
        messages: [
          { text: "åµæ¢ï¼Œé€™å€‹æ¡ˆä»¶éå¸¸æ£˜æ‰‹ã€‚" },
          { text: "å—å®³è€…åœ¨æ˜¨æ™š 10 é»å¤±è¹¤ï¼Œç›®å‰æœ‰ä¸‰ä½å«Œç–‘äººã€‚" },
          { text: "æˆ‘éœ€è¦ä½ æ”¶é›†è­‰æ“šï¼Œæ‰¾å‡ºçœŸå…‡ã€‚" },
        ],
      },
    },
    {
      pageType: "conditional_verify",
      title: "æ”¶é›†é—œéµè­‰æ“š",
      config: {
        instruction: "åœ¨æ¡ˆä»¶è³‡æ–™ä¸­æ‰¾å‡º 3 ä»¶é—œéµè­‰æ“š",
        requiredFragments: 3,
        fragments: ["ç›£è¦–å™¨æˆªåœ–", "ç›®æ“Šè€…è­‰è©", "æ‰‹æ©Ÿé€šè©±ç´€éŒ„"],
      },
    },
    {
      pageType: "choice_verify",
      title: "å¯©å•å«Œç–‘äºº",
      config: {
        question: "æ ¹æ“šç›®å‰çš„è­‰æ“šï¼Œä»¥ä¸‹å“ªä½å«Œç–‘äººçš„èªªè©æœ‰çŸ›ç›¾ï¼Ÿ",
        options: ["å«Œç–‘äºº Aï¼šç®¡å®¶", "å«Œç–‘äºº Bï¼šé„°å±…", "å«Œç–‘äºº Cï¼šåŒäº‹"],
        correctIndex: 1,
      },
    },
    {
      pageType: "button",
      title: "æ¨ç†æ–¹å‘é¸æ“‡",
      config: {
        prompt: "ä½ æƒ³å¾å“ªå€‹æ–¹å‘ç¹¼çºŒèª¿æŸ¥ï¼Ÿ",
        buttons: [
          { text: "è¿½æŸ¥æ‰‹æ©Ÿç´€éŒ„", rewardPoints: 10 },
          { text: "é‡è¨ªæ¡ˆç™¼ç¾å ´", rewardPoints: 10 },
          { text: "æ·±å…¥å¯©å•å«Œç–‘äºº", rewardPoints: 10 },
        ],
      },
    },
    {
      pageType: "text_verify",
      title: "ç ´è§£å¯†ç¢¼è¨Šæ¯",
      config: {
        question: "å—å®³è€…æ‰‹æ©Ÿè£¡æœ‰ä¸€å‰‡åŠ å¯†è¨Šæ¯ï¼šã€ŒUSVUIã€ï¼ˆæ¯å€‹å­—æ¯å‰ç§»ä¸€ä½ï¼‰ã€‚è§£å¯†å¾Œæ˜¯ä»€éº¼ï¼Ÿ",
        correctAnswer: "TRUTH",
        hint: "A çš„å‰ä¸€å€‹å­—æ¯æ˜¯ Z",
      },
    },
    {
      pageType: "choice_verify",
      title: "æŒ‡èªçœŸå…‡",
      config: {
        question: "ç¶œåˆæ‰€æœ‰è­‰æ“šï¼Œä½ èªç‚ºçœŸå…‡æ˜¯èª°ï¼Ÿ",
        options: ["ç®¡å®¶ï¼ˆå‹•æ©Ÿï¼šè²¡ç”¢ç³¾ç´›ï¼‰", "é„°å±…ï¼ˆå‹•æ©Ÿï¼šé•·å¹´ä¸å’Œï¼‰", "åŒäº‹ï¼ˆå‹•æ©Ÿï¼šå•†æ¥­ç«¶çˆ­ï¼‰"],
        correctIndex: 2,
      },
    },
    {
      pageType: "text_card",
      title: "çµæ¡ˆå ±å‘Š",
      config: {
        title: "æ¡ˆä»¶åµç ´ï¼",
        text: "æ­å–œåµæ¢ï¼Œä½ æˆåŠŸæ‰¾å‡ºäº†çœŸå…‡ä¸¦ç ´ç²äº†é€™èµ·é›¢å¥‡æ¡ˆä»¶ã€‚ä½ çš„æ¨ç†èƒ½åŠ›ä»¤äººè®šå˜†ï¼æ¡ˆä»¶å·²æ­£å¼çµæ¡ˆã€‚",
      },
    },
  ],
};

// ============================================================================
// åŒ¯å‡ºæ¨¡çµ„åˆ—è¡¨
// ============================================================================

export const GAME_MODULES: GameModule[] = [
  outdoorTreasureHunt,
  escapeRoomCountdown,
  campusQuizBattle,
  wildSurvivalChallenge,
  onlineDetectiveClub,
];

/** æ ¹æ“šæ¨¡çµ„ ID å–å¾—æ¨¡çµ„ */
export function getModuleById(id: string): GameModule | undefined {
  return GAME_MODULES.find((m) => m.id === id);
}

/** å–å¾—æ‰€æœ‰æ¨¡çµ„ */
export function getAllModules(): GameModule[] {
  return GAME_MODULES;
}

/** æ ¹æ“šåˆ†é¡ç¯©é¸æ¨¡çµ„ */
export function getModulesByCategory(category: ModuleCategory): GameModule[] {
  return GAME_MODULES.filter((m) => m.category === category);
}
